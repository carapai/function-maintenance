<!--loader block-->
<app-loader *ngIf="loading" [loadingMessage]="'Moving chart into position'"></app-loader>
<!--end of loader block-->

<!--error notifier block-->
<app-error-notifier *ngIf="hasError" [errorMessage]="erroMessage"></app-error-notifier>
<!--end of error notifier block-->
<div class="row" *ngIf="!loading && !hasError">
  <div class="col-md-12 chart-body" *ngFor="let chartObject of chartObjects | paginate: config" [ngStyle]="{'height': chartData.details.cardHeight}" (mouseenter)="showChartOptions()" (mouseleave)="hideChartOptions()">
    <div class="chart-block text-center" [ngStyle]="{'width': 'calc('+ chartConfiguration.blockWidth + ')'}">
      <pagination-template #nm="paginationApi" [id]="config.id" (pageChange)="config.currentPage = $event" class="chart-pagination">
        <ul class="list-inline">
          <li class="pagination-previous pull-left" *ngIf="chartObjects.length > 1" [class.hidden]="nm.isFirstPage()">
            <a (click)="nm.previous()" tooltip="previous"> <i class="fa fa-chevron-left"></i> </a>
          </li>
          <!--<li>-->
            <!--<h4 style="margin-bottom: 2px; margin-top: 2px;">{{chartObject.title}}</h4>-->
            <!--<span style="font-weight: lighter;">chart subtitle</span>-->
          <!--</li>-->
          <li class="pagination-next pull-right" *ngIf="chartObjects.length > 1" [class.hidden]="nm.isLastPage()">
            <a (click)="nm.next()" tooltip="next"> <i class="fa fa-chevron-right"></i> </a>
          </li>
        </ul>
      </pagination-template>
      <div [ngStyle]="{'height': chartData.details.itemHeight}"  [ng2-highcharts]="chartObject"></div>
    </div>
    <div class="options-block" [ngStyle]="{'visibility': chartConfiguration.optionsVisibility}">
      <ul class="nav nav-stacked">
        <li *ngFor="let chartType of chartTypes">
          <a (click)="updateChartType(chartType.type, chartObject)" title="{{chartType.description}}"
             [ngClass]="'bar' == chartType.type ? 'active-type' : ''">
            <img [src]="chartType.icon" class="chart-option-icon" alt="">
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>
